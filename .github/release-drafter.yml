name-template: "v$RESOLVED_VERSION ğŸš€"
tag-template: "v$RESOLVED_VERSION"

# COMPLETELY disable automatic parsing
include:
  pull-requests: false
  commits: true

# MANUAL hardcoded template with emojis
template: |
  ## What's Changed ğŸŒŸ
  
  ### âœ¨ Features
  {% for commit in commits %}
    {% if commit.message matches "/^feat:/" or commit.message matches "/^feature:/" %}
  - âœ¨ {{ commit.message | replace("feat:", "") | replace("feature:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸ› Bug Fixes
  {% for commit in commits %}
    {% if commit.message matches "/^fix:/" or commit.message matches "/^bug:/" or commit.message matches "/^fixbug:/" %}
  - ğŸ› {{ commit.message | replace("fix:", "") | replace("bug:", "") | replace("fixbug:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸ“š Documentation
  {% for commit in commits %}
    {% if commit.message matches "/^docs:/" or commit.message matches "/^documentation:/" %}
  - ğŸ“š {{ commit.message | replace("docs:", "") | replace("documentation:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸ”§ Chores & Maintenance
  {% for commit in commits %}
    {% if commit.message matches "/^chore:/" or commit.message matches "/^maintenance:/" or commit.message matches "/^build:/" or commit.message matches "/^ci:/" %}
  - ğŸ”§ {{ commit.message | replace("chore:", "") | replace("maintenance:", "") | replace("build:", "") | replace("ci:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸ“¦ Dependencies
  {% for commit in commits %}
    {% if commit.message matches "/^deps:/" or commit.message matches "/^dependencies:/" or commit.message matches "/^dep:/" %}
  - ğŸ“¦ {{ commit.message | replace("deps:", "") | replace("dependencies:", "") | replace("dep:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸ¨ Code Style
  {% for commit in commits %}
    {% if commit.message matches "/^style:/" or commit.message matches "/^format:/" %}
  - ğŸ¨ {{ commit.message | replace("style:", "") | replace("format:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### â™»ï¸ Refactoring
  {% for commit in commits %}
    {% if commit.message matches "/^refactor:/" or commit.message matches "/^refactoring:/" %}
  - â™»ï¸ {{ commit.message | replace("refactor:", "") | replace("refactoring:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### âš¡ Performance
  {% for commit in commits %}
    {% if commit.message matches "/^perf:/" or commit.message matches "/^performance:/" %}
  - âš¡ {{ commit.message | replace("perf:", "") | replace("performance:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### âœ… Tests
  {% for commit in commits %}
    {% if commit.message matches "/^test:/" or commit.message matches "/^tests:/" %}
  - âœ… {{ commit.message | replace("test:", "") | replace("tests:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸš¨ Breaking Changes
  {% for commit in commits %}
    {% if commit.message matches "/^break:/" or commit.message matches "/^breaking:/" or commit.message matches "/!:/" %}
  - ğŸš¨ {{ commit.message | replace("break:", "") | replace("breaking:", "") | replace("!:", "") | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

  ### ğŸ“‹ Other Changes
  {% for commit in commits %}
    {% if not commit.message matches "/^feat:/" and not commit.message matches "/^feature:/" and not commit.message matches "/^fix:/" and not commit.message matches "/^bug:/" and not commit.message matches "/^docs:/" and not commit.message matches "/^chore:/" and not commit.message matches "/^deps:/" and not commit.message matches "/^style:/" and not commit.message matches "/^refactor:/" and not commit.message matches "/^perf:/" and not commit.message matches "/^test:/" and not commit.message matches "/^break:/" and not commit.message matches "/^Merge/" and not commit.message matches "/^Revert/" %}
  - ğŸ“‹ {{ commit.message | trim }} by @{{ commit.author.name }}
    {% endif %}
  {% endfor %}

# Exclude merge commits and other noise
exclude:
  commits:
    - "^Merge"
    - "^Revert"
    - "^chore\(release\)"
    - "^docs\(changelog\)"

# Sort newest first
sort:
  by: "date"
  order: "desc"
