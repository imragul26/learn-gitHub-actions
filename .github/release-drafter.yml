name-template: "v$RESOLVED_VERSION ğŸš€"
tag-template: "v$RESOLVED_VERSION"

categories:
  - title: "ğŸš¨ Breaking Changes"
    labels: ["breaking-change"]
    collapse: false
    
  - title: "âœ¨ New Features" 
    labels: ["feature"]
    collapse: false
    
  - title: "ğŸ› Bug Fixes"
    labels: ["bug"]
    collapse: false
    
  - title: "ğŸ“š Documentation"
    labels: ["documentation"]
    collapse: false
    
  - title: "ğŸ¨ Code Style"
    labels: ["style"]
    collapse: false
    
  - title: "â™»ï¸ Refactoring"
    labels: ["refactor"]
    collapse: false
    
  - title: "âš¡ Performance"
    labels: ["performance"] 
    collapse: false
    
  - title: "âœ… Tests"
    labels: ["test"]
    collapse: false
    
  - title: "ğŸ“¦ Dependencies"
    labels: ["dependencies"]
    collapse: false
    
  - title: "ğŸ”§ Chores"
    labels: ["chore"]
    collapse: false

template: |
  ## What's Changed

  $CHANGES

  ## Contributors

  $CONTRIBUTORS

change-template: |- 
  - $EMOJI **$TITLE**$SCOPE by @$AUTHOR in #$NUMBER

change-title-escapes: '\<*_&' # You can add other characters if needed

category-template: |
  ### $TITLE
  $COMMITS

exclude:
  labels:
    - "skip-changelog"
  commits:
    - "^Merge"
    - "^Revert"
    - "^chore\(release\):"
    - "^docs\(changelog\):"

# --- EMOJI MAPPING --- #
replacers:
  # Map commit types to emojis
  - search: '\\$EMOJI'
    replace: |
      ${{ 
        contains(github.event.commits[0].message, 'feat:') && 'âœ¨' ||
        contains(github.event.commits[0].message, 'fix:') && 'ğŸ›' ||
        contains(github.event.commits[0].message, 'docs:') && 'ğŸ“š' ||
        contains(github.event.commits[0].message, 'style:') && 'ğŸ¨' ||
        contains(github.event.commits[0].message, 'refactor:') && 'â™»ï¸' ||
        contains(github.event.commits[0].message, 'perf:') && 'âš¡' ||
        contains(github.event.commits[0].message, 'test:') && 'âœ…' ||
        contains(github.event.commits[0].message, 'chore:') && 'ğŸ”§' ||
        contains(github.event.commits[0].message, 'build:') && 'ğŸ“¦' ||
        contains(github.event.commits[0].message, 'ci:') && 'ğŸŒ' ||
        'ğŸ“‹' 
      }}

  # Add scope if present
  - search: '\\$SCOPE'
    replace: |
      ${{ 
        github.event.commits[0].message.match(/\(([^)]+)\):/) ? ` **(${github.event.commits[0].message.match(/\(([^)]+)\):/)[1]})**` : '' 
      }}

# --- COMMIT PARSING --- #
commit-parser:
  pattern: "^(?<type>\\w+)(?:\\((?<scope>[\\w\\-\.]+)\\))?!?:\\s?(?<description>.+)$"
  map:
    feat: "âœ¨ New Features"
    fix: "ğŸ› Bug Fixes"
    docs: "ğŸ“š Documentation" 
    style: "ğŸ¨ Code Style"
    refactor: "â™»ï¸ Refactoring"
    perf: "âš¡ Performance"
    test: "âœ… Tests"
    chore: "ğŸ”§ Chores"
    build: "ğŸ“¦ Dependencies"
    ci: "ğŸŒ CI/CD"
    break: "ğŸš¨ Breaking Changes"
    breaking: "ğŸš¨ Breaking Changes"

# --- SORTING --- #
sort:
  by: "date"
  order: "desc"

# --- INCLUDED DATA --- #
include:
  commit-hash: false
  commit-author: true
  commit-date: false
  pull-request-number: true
  pull-request-title: false
