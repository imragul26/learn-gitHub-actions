name-template: "v$RESOLVED_VERSION"
tag-template: "v$RESOLVED_VERSION"

# Categories based on conventional commit types
categories:
  - title: "ðŸš¨ Breaking Changes"
    commit-types: ["breaking", "break"]
    emoji: "ðŸš¨"
  
  - title: "âœ¨ Features"
    commit-types: ["feat", "feature"]
    emoji: "âœ¨"
  
  - title: "ðŸ› Bug Fixes"
    commit-types: ["fix", "bug", "bugfix"]
    emoji: "ðŸ›"
  
  - title: "ðŸ“š Documentation"
    commit-types: ["docs", "documentation"]
    emoji: "ðŸ“š"
  
  - title: "ðŸŽ¨ Style Improvements"
    commit-types: ["style"]
    emoji: "ðŸŽ¨"
  
  - title: "â™»ï¸ Refactoring"
    commit-types: ["refactor", "refactoring"]
    emoji: "â™»ï¸"
  
  - title: "âš¡ Performance"
    commit-types: ["perf", "performance"]
    emoji: "âš¡"
  
  - title: "âœ… Tests"
    commit-types: ["test", "tests"]
    emoji: "âœ…"
  
  - title: "ðŸ”§ Chores & Maintenance"
    commit-types: ["chore", "maintenance"]
    emoji: "ðŸ”§"
  
  - title: "ðŸ“¦ Dependencies"
    commit-types: ["deps", "dependencies"]
    emoji: "ðŸ“¦"
    collapse-after: 2
  
  - title: "ðŸ‘· Build System"
    commit-types: ["build"]
    emoji: "ðŸ‘·"
  
  - title: "ðŸ”§ CI/CD"
    commit-types: ["ci"]
    emoji: "ðŸ”§"
  
  - title: "ðŸ“‹ Other Changes"
    commit-types: [] # fallback for unmatched commit types
    emoji: "ðŸ“‹"

# Commit message parsing configuration
commit-parser:
  pattern: "^(\w+)(?:\(([\w\-\.]+)\))?(!)?:\s*(.+)$"
  types:
    feat: "âœ¨ Features"
    fix: "ðŸ› Bug Fixes"
    docs: "ðŸ“š Documentation"
    style: "ðŸŽ¨ Style Improvements"
    refactor: "â™»ï¸ Refactoring"
    perf: "âš¡ Performance"
    test: "âœ… Tests"
    chore: "ðŸ”§ Chores & Maintenance"
    build: "ðŸ‘· Build System"
    ci: "ðŸ”§ CI/CD"
    deps: "ðŸ“¦ Dependencies"
    breaking: "ðŸš¨ Breaking Changes"

# Template for individual changes
change-template: |
  - $EMOJI $TITLE â€“ $AUTHOR (#$NUMBER)

# Alternative: Include commit hash and scope
# change-template: |
#   - $EMOJI $TITLE$SCOPE â€“ $AUTHOR ($HASH_SHORT)

# Template if there are no matching commits
no-changes-template: "No significant changes in this release."

# Custom template variables
template-variables:
  EMOJI: $COMMIT_EMOJI
  SCOPE: $SCOPE_TEMPLATE
  AUTHOR: $COMMIT_AUTHOR

# Custom rendering logic
replacers:
  # Add emoji based on commit type
  - search: '\$COMMIT_EMOJI'
    replace: >-
      ${{
        type === 'feat' && 'âœ¨' ||
        type === 'fix' && 'ðŸ›' ||
        type === 'docs' && 'ðŸ“š' ||
        type === 'style' && 'ðŸŽ¨' ||
        type === 'refactor' && 'â™»ï¸' ||
        type === 'perf' && 'âš¡' ||
        type === 'test' && 'âœ…' ||
        type === 'chore' && 'ðŸ”§' ||
        type === 'build' && 'ðŸ‘·' ||
        type === 'ci' && 'ðŸ”§' ||
        type === 'deps' && 'ðŸ“¦' ||
        type === 'breaking' && 'ðŸš¨' ||
        'ðŸ“‹'
      }}
  
  # Add scope in parentheses if present
  - search: '\$SCOPE_TEMPLATE'
    replace: >-
      ${{
        scope ? ` (${scope})` : ''
      }}
  
  # Format author name
  - search: '\$COMMIT_AUTHOR'
    replace: >-
      ${{
        author ? `@${author.split(' ')[0]}` : ''
      }}

# Exclude certain commit patterns
exclude:
  commits:
    - "^Merge"
    - "^Revert"
    - "^chore\(release\):"
    - "^docs\(changelog\):"
  patterns:
    - "skip-changelog"
    - "no-release-note"

# Include additional commit information
include:
  commit-body: false
  commit-hash: true
  commit-author: true
  commit-date: false

# Sorting options
sort:
  by: "date"
  order: "desc"

# Grouping options
group-by: "category"

# Output configuration
output:
  file: "CHANGELOG.md"
  mode: "append"
  header: |
    # Changelog
    
    All notable changes to this project will be documented in this file.
    
    The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
    and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).
