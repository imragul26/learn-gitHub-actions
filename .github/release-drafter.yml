name-template: "v$RESOLVED_VERSION"
tag-template: "v$RESOLVED_VERSION"

# Categories based on conventional commit types
categories:
  - title: "ğŸš¨ Breaking Changes"
    labels: ["breaking-change"]
    commit-types: ["breaking", "break"]
  
  - title: "âœ¨ Features"
    labels: ["feature"]
    commit-types: ["feat", "feature"]
  
  - title: "ğŸ› Bug Fixes"
    labels: ["bug"]
    commit-types: ["fix", "bug", "bugfix"]
  
  - title: "ğŸ“š Documentation"
    labels: ["documentation"]
    commit-types: ["docs"]
  
  - title: "ğŸ¨ Style Improvements"
    labels: ["style"]
    commit-types: ["style"]
  
  - title: "â™»ï¸ Refactoring"
    labels: ["refactor"]
    commit-types: ["refactor"]
  
  - title: "âš¡ Performance"
    labels: ["performance"]
    commit-types: ["perf"]
  
  - title: "âœ… Tests"
    labels: ["test"]
    commit-types: ["test"]
  
  - title: "ğŸ”§ Chores & Maintenance"
    labels: ["chore"]
    commit-types: ["chore"]
  
  - title: "ğŸ“¦ Dependencies"
    labels: ["dependencies"]
    commit-types: ["deps"]
    collapse-after: 2
  
  - title: "ğŸ“‹ Other Changes"
    labels: []
    commit-types: []

# Commit message parser configuration
commit-parser:
  pattern: "^(\w+)(?:\(([\w\-\.]+)\))?(!)?:\s*(.+)$"
  map:
    feat: "âœ¨ Features"
    fix: "ğŸ› Bug Fixes" 
    docs: "ğŸ“š Documentation"
    style: "ğŸ¨ Style Improvements"
    refactor: "â™»ï¸ Refactoring"
    perf: "âš¡ Performance"
    test: "âœ… Tests"
    chore: "ğŸ”§ Chores & Maintenance"
    deps: "ğŸ“¦ Dependencies"
    breaking: "ğŸš¨ Breaking Changes"

# Template for changes
change-template: |
  - $TITLE$SCOPE â€“ $AUTHOR (#$NUMBER)

# Category template to wrap each section
category-template: |
  ## $CATEGORY_TITLE
  $COMMITS

# Template variables
template-variables:
  CATEGORY_TITLE: $CATEGORY_TITLE_WITH_EMOJI
  SCOPE: $SCOPE_TEMPLATE
  AUTHOR: $COMMIT_AUTHOR

# Replacers for dynamic content
replacers:
  # Add emoji to category title
  - search: '\$CATEGORY_TITLE_WITH_EMOJI'
    replace: >-
      ${{
        title === 'Breaking Changes' && 'ğŸš¨ Breaking Changes' ||
        title === 'Features' && 'âœ¨ Features' ||
        title === 'Bug Fixes' && 'ğŸ› Bug Fixes' ||
        title === 'Documentation' && 'ğŸ“š Documentation' ||
        title === 'Style Improvements' && 'ğŸ¨ Style Improvements' ||
        title === 'Refactoring' && 'â™»ï¸ Refactoring' ||
        title === 'Performance' && 'âš¡ Performance' ||
        title === 'Tests' && 'âœ… Tests' ||
        title === 'Chores & Maintenance' && 'ğŸ”§ Chores & Maintenance' ||
        title === 'Dependencies' && 'ğŸ“¦ Dependencies' ||
        title === 'Other Changes' && 'ğŸ“‹ Other Changes' ||
        title
      }}
  
  # Add scope if present
  - search: '\$SCOPE_TEMPLATE'
    replace: >-
      ${{
        scope ? ` (${scope})` : ''
      }}
  
  # Format author name
  - search: '\$COMMIT_AUTHOR'
    replace: >-
      ${{
        author ? `@${author.split(' ')[0]}` : ''
      }}
  
  # Add emoji to individual commit based on type
  - search: '^- '
    replace: >-
      ${{
        type === 'feat' && '- âœ¨ ' ||
        type === 'fix' && '- ğŸ› ' ||
        type === 'docs' && '- ğŸ“š ' ||
        type === 'style' && '- ğŸ¨ ' ||
        type === 'refactor' && '- â™»ï¸ ' ||
        type === 'perf' && '- âš¡ ' ||
        type === 'test' && '- âœ… ' ||
        type === 'chore' && '- ğŸ”§ ' ||
        type === 'deps' && '- ğŸ“¦ ' ||
        type === 'breaking' && '- ğŸš¨ ' ||
        '- ğŸ“‹ '
      }}

# Exclude patterns
exclude:
  commits:
    - "^Merge"
    - "^Revert"
    - "^chore\(release\):"
    - "^docs\(changelog\):"

# Include options
include:
  commit-hash: false
  commit-author: true
  commit-date: false

# Sorting
sort:
  by: "date"
  order: "desc"
